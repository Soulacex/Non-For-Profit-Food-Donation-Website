{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AdminPageComponent = class AdminPageComponent {\n  constructor(adminService, fb) {\n    this.adminService = adminService;\n    this.fb = fb;\n    this.cupboardNeeds = [];\n    this.form = this.fb.group({\n      needName: ['', Validators.required],\n      needCost: ['', Validators.required],\n      needType: ['', Validators.required],\n      needQuant: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.getHeroes();\n  }\n  getHeroes() {\n    this.adminService.getAccounts().subscribe(Needs => this.cupboardNeeds = Needs);\n  }\n  reset() {\n    this.form.reset();\n  }\n  add(needName, needCost, needType, needQuant) {\n    needName = needName.trim();\n    needType = needType.trim();\n    let quantInt = Math.trunc(needQuant);\n    let needToAdd = {};\n    needToAdd.name = needName;\n    needToAdd.cost = needCost;\n    needToAdd.type = needType;\n    needToAdd.quantity = quantInt;\n    this.adminService.addNeed(needToAdd).subscribe(need => {\n      this.cupboardNeeds.push(need);\n    });\n  }\n  delete(need) {\n    this.cupboardNeeds = this.cupboardNeeds.filter(n => n !== need);\n    this.adminService.deleteNeed(need.name).subscribe();\n  }\n};\nAdminPageComponent = __decorate([Component({\n  selector: 'app-admin-page',\n  templateUrl: './admin-page.component.html',\n  styleUrls: ['./admin-page.component.scss']\n})], AdminPageComponent);","map":{"version":3,"names":["Component","Validators","AdminPageComponent","constructor","adminService","fb","cupboardNeeds","form","group","needName","required","needCost","needType","needQuant","ngOnInit","getHeroes","getAccounts","subscribe","Needs","reset","add","trim","quantInt","Math","trunc","needToAdd","name","cost","type","quantity","addNeed","need","push","delete","filter","n","deleteNeed","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\samue\\SWEN261\\team-project-2231-swen-261-07-7-g-fundsinhighplaces\\ufund-ui\\UFund-Store\\src\\app\\admin\\admin-page\\admin-page.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/admin.service';\r\nimport { Needs } from 'src/app/needs';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\nimport { min } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-admin-page',\r\n  templateUrl: './admin-page.component.html',\r\n  styleUrls: ['./admin-page.component.scss']\r\n})\r\nexport class AdminPageComponent implements OnInit{\r\n  cupboardNeeds: Needs[] = [];\r\n  form: FormGroup = this.fb.group({\r\n    needName: ['',Validators.required],\r\n    needCost: ['',Validators.required],\r\n    needType: ['',Validators.required],\r\n    needQuant: ['',Validators.required]\r\n  });\r\n\r\n  constructor(private adminService: AdminService,private fb: FormBuilder){ };\r\n\r\n  ngOnInit(): void {\r\n      this.getHeroes();\r\n  }\r\n\r\n  getHeroes(): void {\r\n    this.adminService.getAccounts()\r\n    .subscribe(Needs => this.cupboardNeeds = Needs);\r\n  }\r\n\r\n  reset(): void{\r\n    this.form.reset();\r\n  }\r\n\r\n  add(needName: string, needCost: number, needType:string, needQuant:number): void{\r\n    needName = needName.trim();\r\n    needType = needType.trim();\r\n    let quantInt = Math.trunc(needQuant);\r\n\r\n    let needToAdd = {} as Needs;\r\n\r\n    needToAdd.name = needName;\r\n    needToAdd.cost = needCost;\r\n    needToAdd.type = needType;\r\n    needToAdd.quantity = quantInt;\r\n\r\n    this.adminService.addNeed(needToAdd as Needs)\r\n    .subscribe(need => {\r\n      this.cupboardNeeds.push(need);\r\n    });\r\n  }\r\n  delete(need: Needs): void{\r\n    this.cupboardNeeds = this.cupboardNeeds.filter(n => n !== need);\r\n    this.adminService.deleteNeed(need.name).subscribe();\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAAiCC,UAAU,QAAqB,gBAAgB;AAQzE,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAS7BC,YAAoBC,YAA0B,EAASC,EAAe;IAAlD,KAAAD,YAAY,GAAZA,YAAY;IAAuB,KAAAC,EAAE,GAAFA,EAAE;IARzD,KAAAC,aAAa,GAAY,EAAE;IAC3B,KAAAC,IAAI,GAAc,IAAI,CAACF,EAAE,CAACG,KAAK,CAAC;MAC9BC,QAAQ,EAAE,CAAC,EAAE,EAACR,UAAU,CAACS,QAAQ,CAAC;MAClCC,QAAQ,EAAE,CAAC,EAAE,EAACV,UAAU,CAACS,QAAQ,CAAC;MAClCE,QAAQ,EAAE,CAAC,EAAE,EAACX,UAAU,CAACS,QAAQ,CAAC;MAClCG,SAAS,EAAE,CAAC,EAAE,EAACZ,UAAU,CAACS,QAAQ;KACnC,CAAC;EAEuE;EAEzEI,QAAQA,CAAA;IACJ,IAAI,CAACC,SAAS,EAAE;EACpB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACX,YAAY,CAACY,WAAW,EAAE,CAC9BC,SAAS,CAACC,KAAK,IAAI,IAAI,CAACZ,aAAa,GAAGY,KAAK,CAAC;EACjD;EAEAC,KAAKA,CAAA;IACH,IAAI,CAACZ,IAAI,CAACY,KAAK,EAAE;EACnB;EAEAC,GAAGA,CAACX,QAAgB,EAAEE,QAAgB,EAAEC,QAAe,EAAEC,SAAgB;IACvEJ,QAAQ,GAAGA,QAAQ,CAACY,IAAI,EAAE;IAC1BT,QAAQ,GAAGA,QAAQ,CAACS,IAAI,EAAE;IAC1B,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACX,SAAS,CAAC;IAEpC,IAAIY,SAAS,GAAG,EAAW;IAE3BA,SAAS,CAACC,IAAI,GAAGjB,QAAQ;IACzBgB,SAAS,CAACE,IAAI,GAAGhB,QAAQ;IACzBc,SAAS,CAACG,IAAI,GAAGhB,QAAQ;IACzBa,SAAS,CAACI,QAAQ,GAAGP,QAAQ;IAE7B,IAAI,CAAClB,YAAY,CAAC0B,OAAO,CAACL,SAAkB,CAAC,CAC5CR,SAAS,CAACc,IAAI,IAAG;MAChB,IAAI,CAACzB,aAAa,CAAC0B,IAAI,CAACD,IAAI,CAAC;IAC/B,CAAC,CAAC;EACJ;EACAE,MAAMA,CAACF,IAAW;IAChB,IAAI,CAACzB,aAAa,GAAG,IAAI,CAACA,aAAa,CAAC4B,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKJ,IAAI,CAAC;IAC/D,IAAI,CAAC3B,YAAY,CAACgC,UAAU,CAACL,IAAI,CAACL,IAAI,CAAC,CAACT,SAAS,EAAE;EACrD;CACD;AA7CYf,kBAAkB,GAAAmC,UAAA,EAL9BrC,SAAS,CAAC;EACTsC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACWtC,kBAAkB,CA6C9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}