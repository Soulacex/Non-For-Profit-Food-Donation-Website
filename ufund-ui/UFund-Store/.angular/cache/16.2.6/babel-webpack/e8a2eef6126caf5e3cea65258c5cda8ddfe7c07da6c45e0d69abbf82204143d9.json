{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { NEEDS } from 'src/app/mock-needs';\nexport let HelperPageComponent = class HelperPageComponent {\n  constructor(fundingBasket) {\n    this.fundingBasket = fundingBasket;\n    this.needs = NEEDS;\n    this.searchTerm = '';\n    this.supportedNeeds = [];\n  }\n  ngOnInit() {\n    this.getNeeds();\n  }\n  showNeedDetails(need) {\n    this.selectedNeed = need;\n  }\n  onSelect(need) {\n    this.selectedNeed = need;\n  }\n  getNeeds() {\n    this.fundingBasket.getAllNeeds().subscribe(needs => {\n      this.needs = this.searchTerm.trim() ? needs : NEEDS;\n    });\n  }\n  getDescription(need) {\n    return `${need.name} is a ${need.type} item with a cost of ${need.cost}.`;\n  }\n  search() {\n    if (!this.searchTerm.trim()) {\n      this.getNeeds();\n      return;\n    }\n    const searchTermLowerCase = this.searchTerm.toLowerCase();\n    this.needs = NEEDS.filter(need => need.name.toLowerCase().includes(searchTermLowerCase));\n  }\n  resetSearch() {\n    this.searchTerm = '';\n    this.getNeeds();\n  }\n  addToBasket(need) {\n    const existingNeed = this.supportedNeeds.find(n => n.name === need.name);\n    if (existingNeed) {\n      existingNeed.quantity += 1;\n    } else {\n      const newNeed = {\n        ...need,\n        quantity: 1\n      };\n      this.supportedNeeds.push(newNeed);\n    }\n    this.fundingBasket.addSupportedNeed(need);\n    need.quantity -= 1;\n    const message = `Adding need to the basket`;\n    alert(message);\n  }\n  removeFromBasket(need) {\n    this.fundingBasket.removeSupportedNeed(need);\n    const final_quant = need.quantity;\n    if (need.quantity < final_quant) {\n      need.quantity += 1;\n      const message = `Removing need from basket`;\n      alert(message);\n    } else {\n      const message = `Unable to remove since not in Funding Basket`;\n      alert(message);\n    }\n  }\n};\nHelperPageComponent = __decorate([Component({\n  selector: 'app-helper-page',\n  templateUrl: './helper-page.component.html',\n  styleUrls: ['./helper-page.component.scss']\n})], HelperPageComponent);","map":{"version":3,"names":["Component","NEEDS","HelperPageComponent","constructor","fundingBasket","needs","searchTerm","supportedNeeds","ngOnInit","getNeeds","showNeedDetails","need","selectedNeed","onSelect","getAllNeeds","subscribe","trim","getDescription","name","type","cost","search","searchTermLowerCase","toLowerCase","filter","includes","resetSearch","addToBasket","existingNeed","find","n","quantity","newNeed","push","addSupportedNeed","message","alert","removeFromBasket","removeSupportedNeed","final_quant","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/soulacex/swen-261/team-project-2231-swen-261-07-7-g-fundsinhighplaces/ufund-ui/UFund-Store/src/app/helper/helper-page/helper-page.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Needs } from 'src/app/needs';\nimport { FundingBasket } from 'src/app/fundingbasket.service';\nimport { NEEDS } from 'src/app/mock-needs';\n\n@Component({\n  selector: 'app-helper-page',\n  templateUrl: './helper-page.component.html',\n  styleUrls: ['./helper-page.component.scss']\n})\nexport class HelperPageComponent implements OnInit {\n\n  needs: Needs[] = NEEDS;\n  selectedNeed?: Needs;\n  searchTerm: string = '';\n  supportedNeeds: Needs[] = [];\n\n\n  constructor(public fundingBasket: FundingBasket) {\n  }\n\n  ngOnInit(): void {\n    this.getNeeds();\n  }\n\n  showNeedDetails(need: Needs): void {\n    this.selectedNeed = need;\n  }\n\n  onSelect(need: Needs): void {\n    this.selectedNeed = need;\n  }\n\n  getNeeds(): void {\n    this.fundingBasket.getAllNeeds().subscribe(needs => {\n      this.needs = this.searchTerm.trim() ? needs : NEEDS;\n    });\n  }\n\n  getDescription(need: Needs): string {\n    return `${need.name} is a ${need.type} item with a cost of ${need.cost}.`;\n  }\n\n  search(): void {\n    if (!this.searchTerm.trim()) {\n      this.getNeeds();\n      return;\n    }\n\n    const searchTermLowerCase = this.searchTerm.toLowerCase();\n    this.needs = NEEDS.filter(need =>\n      need.name.toLowerCase().includes(searchTermLowerCase)\n    );\n  }\n\n  resetSearch(): void {\n    this.searchTerm = '';\n    this.getNeeds(); \n  }\n\n  addToBasket(need: Needs): void {\n    const existingNeed = this.supportedNeeds.find(n => n.name === need.name);\n\n    if (existingNeed) {\n      existingNeed.quantity += 1;\n    } else {\n      const newNeed = { ...need, quantity: 1 };\n      this.supportedNeeds.push(newNeed);\n    }\n\n    this.fundingBasket.addSupportedNeed(need);\n\n    need.quantity -= 1;\n\n    const message = `Adding need to the basket`;\n    alert(message);\n  }\n\n  removeFromBasket(need: Needs): void {\n    this.fundingBasket.removeSupportedNeed(need);\n    const final_quant = need.quantity;\n    if(need.quantity < final_quant){\n      need.quantity +=1;\n      const message = `Removing need from basket`;\n      alert(message);\n    }\n    else{\n      const message = `Unable to remove since not in Funding Basket`;\n      alert(message);\n    }\n\n  }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}